# Build Guide
こちらはsekimenのビルドガイドです。
# 同梱品の確認
準備中です。
# 別途必要なパーツの用意(オプション含む)
以下のパーツを用意します。

* MX互換キースイッチ４６個(拡張プレート使用時は66個)

* キーキャップ４６個(拡張プレート使用時は66個)

* OLED(最大2個。使わない場合ファームウェアの設定変更が必要です。）

* リード部品の破片等(拡張基板使用時のキーボードの強度を上げたい場合、ベース基板と拡張基板のトッププレート間のはんだ付けに使用します。) 

# 組立に必要な工具の用意
準備中です。

メモ

はんだごて

マスキングテープ

接着剤

# 組立時の主な注意点
* ダイオードの向きに注意する。

* はんだ付け時にキースイッチやピンソケット、ピンヘッダ等の部品が基板から浮かないようにする。

* ジャンパピンの取り付け位置に注意する。

* はんだ付け時は出来る限りフラックスを使用する。(特にLEDテープ)
# ベース基板の組立て
# ダイオード(表面実装タイプ)のはんだ付け
表面実装タイプのダイオードをはんだ付けします。

はんだ付け時のダイオードの向きは以下の画像の通りです。(sekimenではダイオードの向きは全て同じです。)

<img width="600" alt="無題" src="https://user-images.githubusercontent.com/54104281/87245239-c4820480-c47e-11ea-88a7-65465427039a.png">

まず、ダイオード実装用の2つのパッドのうち片方にはんだを付けます。(予備はんだと言います。)

<img width="600" alt="予備はんだ後" src="https://user-images.githubusercontent.com/54104281/87247558-69a4d900-c48f-11ea-9dcd-7d9df90f368c.png">

次に、ダイオードをピンセット等でつまみ、ダイオードの足を2つのパッドの上(片側は予備はんだの上)にのせます。

<img width="600" alt="ダイオード位置調整" src="https://user-images.githubusercontent.com/54104281/87407495-354f2b00-c5fd-11ea-919e-70600172d83b.png">

その状態を維持しながら、予備はんだにはんだごてを当てます。

そうすると、予備はんだが溶けてダイオードの足とパッドがはんだを介して繋がるので、その状態でダイオードの足が2つのパッドの上に乗るように位置や角度を調整します。

調整が終わったらはんだごてをはんだから離します。

<img width="600" alt="片側パッドはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87407583-56b01700-c5fd-11ea-8925-11ddacf75de0.png">

片側の足が固定されたら、ダイオードのもう片方の足とパッドをはんだづけします。

<img width="600" alt="ダイオードはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87407806-9e36a300-c5fd-11ea-9731-be97f6ccba0d.png">

この作業を片側23個、合計46個分行います。

<img width="600" alt="全ダイオードはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87407963-d1793200-c5fd-11ea-9df4-4359d3c1145a.png">

# OLED部分のはんだジャンパ(ver1.02まで）
OLED用のパッド4箇所のはんだジャンパ(はんだでパッド同士を繋ぐ)をします。ver1.03以降の基板では不要です。

まず、１箇所パッドの両側に予備はんだをします。(隣のパッドにはんだが付きそうで不安な時は、はんだを付けたくないパッドの上にマスキングテープ等を貼るとよいです。)

<img width="600" alt="OLEDパッド予備はんだ後" src="https://user-images.githubusercontent.com/54104281/87408305-40ef2180-c5fe-11ea-9759-d8edf5500395.png">

その後、予備はんだを用いてパッド同士を繋ぐようにはんだ付けします。

<img width="600" alt="OLEDパッドはんだジャンパ後" src="https://user-images.githubusercontent.com/54104281/87408441-6da33900-c5fe-11ea-9c12-3a466bbf30f5.png">

同様に残りの3箇所もはんだジャンパをします。

# TRRSジャックのはんだ付け

まず、基板にTRRSジャックを取付けます。

TRRSジャックの突起が基板の穴にぴったりはまるので、固定は比較的簡単です。

<img width="600" alt="TRRSジャック取付後表面" src="https://user-images.githubusercontent.com/54104281/87408852-0cc83080-c5ff-11ea-9de1-d42667e5fe1c.png">

取付後、TRRSジャックの端子4つをはんだ付けします。

<img width="600" alt="TRRSジャックはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87408953-36815780-c5ff-11ea-9381-7cbb33b566cb.png">

# ピンソケット1x12　2つのはんだ付け

ピンソケット(1x12)2つを基板に対してなるべく垂直に取付け、はんだ付けします。

<img width="600" alt="ピンソケット1x12取付後表面" src="https://user-images.githubusercontent.com/54104281/87409393-d63ee580-c5ff-11ea-882a-863ad8bc0966.png">

まずはピンソケットの12個の端子のうち1つをはんだ付けします。

<img width="600" alt="ピンソケット1x12_1ピンはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87409575-143c0980-c600-11ea-85d5-183e0d3ad9e9.png">

そうするとピンソケットが基板にある程度固定されるので、その状態でピンソケットが浮いていないか、角度が問題ないかをチェックします。

問題がある場合ははんだを溶かしながら調節します。(調整時ははんだごてや基板、部品の持ち方が不自然になりがちなので、やけどにご注意ください。)

例えば以下の画像では、画像左側のピンソケットが少し浮いています。このような場合は可能なら修正します。

<img width="600" alt="ピンソケット1x12_部品が浮いている例" src="https://user-images.githubusercontent.com/54104281/87410429-41d58280-c601-11ea-8fa4-8a8355dac6f8.png">

もしすべてのピンをはんだ付けした後にピンソケットの位置が悪いことに気づいてしまった場合は、使用上問題無い場合もありますので、とりあえず先の手順に進んでみてください。

問題が無ければ残りの端子をはんだ付けします。

同様の手順でもう1つのピンヘッダ1x12もはんだ付けします。

<img width="600" alt="ピンソケット1x12はんだ付け後" src="https://user-images.githubusercontent.com/54104281/87409968-ae03b680-c600-11ea-8d1b-bd9917c2800f.png">

# リセットスイッチのはんだ付け

リセットスイッチを基板に奥まで取付けます。リセットスイッチに向きはありません。

<img width="600" alt="リセットスイッチ取付後表面" src="https://user-images.githubusercontent.com/54104281/87539306-98fa5680-c6d8-11ea-8823-6b6244694107.png">

取付後、リセットスイッチの端子2つをはんだ付けします。

<img width="600" alt="リセットスイッチはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87411594-ea381680-c602-11ea-87ad-e262d5cf570e.png">

# ピンヘッダ1x3 2つのはんだ付け
ピンヘッダ1x3 2つをはんだ付けします。

<img width="600" alt="ピンヘッダ取付後_表面" src="https://user-images.githubusercontent.com/54104281/87411175-49e1f200-c602-11ea-95bf-4d5c532bad18.png">

まずは2つのピンヘッダのうち1つを、基板に固定します。固定にはマスキングテープ等を使用すると良いです。。

その後、ピンヘッダの端子1つを基板へはんだ付けします。

<img width="600" alt="ピンヘッダ1x3_1ピンはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87411774-24a1b380-c603-11ea-8936-d5d1993f6054.png">

はんだ付け後、ピンヘッダが浮いていないか、角度が問題ないかをチェックします。

問題が無ければ残りの端子をはんだ付けします。

同様に、もう1つのピンヘッダ1x3もはんだ付けします。

<img width="600" alt="ピンヘッダ1x3_はんだ付け後" src="https://user-images.githubusercontent.com/54104281/87412004-70ecf380-c603-11ea-8f45-cdf68598126f.png">

# ピンソケット1x4のはんだ付け
ピンソケット1x4をはんだ付けします。

まずはピンソケットの4つの端子のうち1つをはんだ付けします。その後、ピンソケットの位置や角度をチェックします。

問題が無ければ、残りの端子をはんだ付けします。

<img width="600" alt="ピンソケット1x4はんだ付け後" src="https://user-images.githubusercontent.com/54104281/87412241-c3c6ab00-c603-11ea-8501-71ee64d2473c.png">

# ピンヘッダへのジャンパピンの取り付け
はんだ付けしたピンヘッダへジャンパピンをはんだ付けします。

キーボード間の通信をシリアル通信で行う場合、画像のように取り付けます。ジャンパピンの正しい位置にピンヘッダの端子が入っていることを確認してください。

I2C通信時の取付け方法の写真はいずれ追加します。

<img width="600" alt="ピンヘッダ1x3_ジャンパピン取付後表面" src="https://user-images.githubusercontent.com/54104281/87412608-333c9a80-c604-11ea-9ccc-a97e1d1efe0f.png">

# pro_microへのピンヘッダ1x12 2つのはんだ付け
pro_microへピンヘッダ1x12 2つを画像のようにはんだ付けします。
<img width="600" alt="promicro_ピンヘッダ1x12はんだ付け後" src="https://user-images.githubusercontent.com/54104281/87413437-44d27200-c605-11ea-8270-798fa447c778.png">

# ピンソケット1x12へのpro_micro取付け
ピンソケット1x12へPro_microを画像のように取付けます。

<img width="600" alt="promicro取付後_表面" src="https://user-images.githubusercontent.com/54104281/87413725-a4c91880-c605-11ea-8a5b-294c45940e1e.png">

ファームウェアの書込み及びダイオードの動作テストはここ行うのがおすすめです。

(もし問題が起きた時に、キースイッチが原因かそれ以外かを切り分けしやすいためです。)

手順は〇〇を参考にしてください。

# トッププレートへのスペーサーの取り付け

画像のように、トッププレートへ長さ12mmのスペーサーをM2x4mmのねじで固定します。
(画像ではトッププレートの四隅へキースイッチを先に取り付けてしまっています。すみません。)

<img width="600" alt="トッププレート_12mmスペーサー取付後" src="https://user-images.githubusercontent.com/54104281/87538543-571ce080-c6d7-11ea-96c0-621e25bc5b27.png">

取付を忘れるとリカバリが大変なので注意してください。

# トッププレートの四隅へのキースイッチ取付け
トッププレートの四隅へキースイッチを取り付けます。

<img width="600" alt="トッププレート_四隅キースイッチ取付後" src="https://user-images.githubusercontent.com/54104281/87538683-95b29b00-c6d7-11ea-9cf1-544f1366e8ea.png">

# トッププレートの基板への取付け

四隅にキースイッチを取り付けたトッププレートを基板に取り付けます。

<img width="600" alt="トッププレート取付後" src="https://user-images.githubusercontent.com/54104281/87538813-d4e0ec00-c6d7-11ea-80d1-317cd6a35286.png">

取り付けた後、基板の穴からキースイッチの端子(キースイッチ1つにつき2つ)が出ていることを確認して下さい。
出ていない場合、キースイッチの取付け向きが異なっていたり、キースイッチの端子が曲がっている等の原因が考えられます。
その場合は、基板の穴からキースイッチの端子が出るように修正します。

# 四隅のキースイッチのはんだ付け

トッププレートの四隅へ取り付けたキースイッチをはんだ付けします。
キースイッチが浮かないように、キースイッチを基板に押し付けながらはんだ付けします。
マスキングテープで基板にキースイッチを固定したり、大き目のクリップで基板とキースイッチを挟む等の方法がおすすめです。
端子とパッドを十分にはんだ付けしてください。(画像の量程度であれば問題ありません。)

<img width="600" alt="四隅キースイッチはんだ付け後" src="https://user-images.githubusercontent.com/54104281/87539129-56d11500-c6d8-11ea-89a3-00f543c8af98.png">






































